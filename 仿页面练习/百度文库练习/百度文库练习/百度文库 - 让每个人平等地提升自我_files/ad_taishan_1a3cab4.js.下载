define("wkcore:widget/ad_taishan/ad_taishan.js",function(i,a,e){var t=i("wkcommon:widget/ui/lib/jquery/jquery.js"),o=i("wkcommon:widget/lib/tangram/base/base.js"),n=i("wkcommon:widget/ui/lib/browser/browser.js"),s=i("wkcommon:widget/ui/js_core/xform/xform.js"),r=i("wkcommon:widget/ui/js_core/log/log.js"),c={isAction:!1,scrollValue:0,updateView:function(){this.scrollValue=t(window).scrollTop();var i='url("'+this.imageLink+'") '+this.imageBgcolor+" no-repeat center",a='url("'+this.barLink+'") '+this.barBgcolor+" no-repeat center";
t(".ad-taishan").css("background",i),t(".ad-taishan-bar").css("background",a),t(".ad-taishan a").attr("href",this.clickLink),t(".ad-taishan-bar a").attr("href",this.clickLink)},init:function(){this.bindCloseEvent();var i=this;s.getJSON("huawei_taishan_ad",{success:function(a){var e=new Date;o.cookie.get("nobar")||e.getTime()>=i.dateFormat(a.startDate).getTime()&&e.getTime()<=i.dateFormat(a.endDate).getTime()&&(i.imageLink=a.imageLink,i.imageBgcolor=a.imageBgcolor,i.barLink=a.barLink,i.barBgcolor=a.barBgcolor,i.clickLink=a.clickLink,i.updateView(),o.cookie.get("adshow")?i.adTaishanBanner():i.action(a))
}})},adTaishanBanner:function(){t(document.body).prepend(t(".ad-taishan-bar")),t(t(".ad-taishan-bar")).slideDown(500,function(){t(".ad-bar-close").show(),r.xsend(1,101098,{index:4})})},dateFormat:function(i){var a=i.split(/[\/\.-]/g),e=+a[0],t=+a[1],o=+a[2],n=new Date(e,t-1,o);return n},action:function(){var i=this,a=t(".ad-taishan");t(document.body).prepend(a),setTimeout(function(){a.slideDown(1e3,function(){i.isUserAction(),i.isAction?i.showSlideUp(a):setTimeout(function(){i.showSlideUp(a),r.xsend(1,101098,{index:3})
},2500)})},500)},isUserAction:function(){var i=this;t(window).on("scroll click",function(){i.isAction=!0})},showSlideUp:function(i){{var a=this;t(".ad-taishan-bar")}i.slideUp(1500,function(){a.adTaishanBanner()}),this.setCookie("adshow")},setCookie:function(i){var a=new Date,e=a.getFullYear(),t=a.getMonth(),n=a.getDate(),s=o.cookie.get(i);s||o.cookie.set(i,a.getTime(),{expires:new Date(e,t,n+1).getTime()-a.getTime(),path:"/"})},bindCloseEvent:function(){var i=this;(6===n.ie||"6"===n.ie)&&(t(".ad-taishan-bar").css({position:"absolute",top:i.scrollValue}),t(".ad-taishan").css({position:"absolute",top:i.scrollValue}));
var a=t(".ad-bar-close");a.on("click",function(){t(".ad-taishan-bar").css("display","none"),t(".fix-searchbar-wrap").css("top","0"),t(".bg-opacity").css("top","0"),i.setCookie("nobar")})}};e.exports=c});