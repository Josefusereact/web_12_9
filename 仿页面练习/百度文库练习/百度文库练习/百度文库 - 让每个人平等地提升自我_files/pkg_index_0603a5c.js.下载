require.async(["wkcommon:widget/ui/lib/jquery/jquery.js","wkcommon:widget/lib/fis/data/data.js","wkcommon:widget/ui/lib/browser/browser.js","wkcommon:widget/ui/lib/json/json.js","wkcommon:widget/ui/js_core/slide/slide.js","wkcommon:widget/ui/js_core/tabs/tabs.js","wkcommon:widget/ui/js_core/login/login.js","wkcommon:widget/ui/js_core/lazy_load/lazy_load.js","wkcore:widget/node_modules/@baidu/wenku-pc-components/dist/index.js","wkcore:widget/libs/doT.min.js","wkcore:widget/xpageAd/xpageAd.js","wkcommon:widget/ui/js_core/log/log.js","wkcommon:widget/ui/lib/array/array.js","wkcommon:widget/lib/tangram/base/base.js"],function(i,n,o,t,e,a,s,r,c,l,u,d,f,m){var g=(m.dom.q,null),h=(n.get("gpData"),n.get("WkInfo")),p=h.PageInfo,w=(h.UserInfo,s.login),v=n.get("isBGC");
pageRun={init:function(){this._fixFireFoxPositionY(),this._initPage(),this._initEvent(),this._errorPush()},_initPage:function(){var n=this;this._responseLayout(),this._initLazyLoad(),i("#slide-bner .img-list").on("ready",function(i,o){n._adjustSlideImgSize(),n._initSlide(o)}),this._initTab(),this._ajaxMyWk(),this._ajaxVipInfo(),this._formatDocnum(),this._ctrlTabLine("#doct-tab-wrap","doc"),this._ctrlTabLine("#bookt-tab-wrap"),this._scrollTop("feed-list",109),this._scrollTop("reward-lists-ani",86),this._showSearchBoxLink()
},_fixFireFoxPositionY:function(){var n=document.createElement("div"),o=/([^ ]*) (.*)/;""!==n.style.backgroundPositionX&&i(["X","Y"]).each(function(n,t){var e="backgroundPosition"+t,a="X"==t;i.cssHooks[e]={set:function(i,n){var t=i.style.backgroundPosition;i.style.backgroundPosition=(a?n+" ":"")+(t?t.match(o)[a+1]:"0")+(a?"":" "+n)},get:function(n,t){var e=t?i.css(n,"backgroundPosition"):n.style.backgroundPosition;return e.match(o)[!a+1]}},i.fx.step[e]=function(n){i.cssHooks[e].set(n.elem,n.now+n.unit)
}}),n=null},_initEvent:function(){var n=this,o=i(".not-login-wrap").find(".new-upload-btns");i(".upload-btn").hover(function(){o.show()},function(){o.hide()}),o.hover(function(){o.show()},function(){o.hide()}),o.on("click","a",function(n){var o=i(this).attr("data-href");n.preventDefault(),w.verlogin(function(){location.href=o})}),i(".upload-btn").on("click",function(i){i.preventDefault();var n=i.target.href;w.verlogin(function(){location.href=n})}),i("#works li").on("mouseenter",function(){i(this).removeClass("onlytext").find(".ui-idx").addClass("ui-idx-special"),i(this).siblings().addClass("onlytext").find(".ui-idx").removeClass("ui-idx-special")
}),i(".daily-task").on("click",function(i){i.preventDefault();var n=i.target.href;w.verlogin(function(){location.href=n})}),this.docTab.on("onBeforeCurrent",function(o){var t=o.bdElement;n._lazyLoadImg(i(t).find("img"))}),this.authorTab.on("onBeforeCurrent",function(o){var t=o.bdElement;n._lazyLoadImg(i(t).find("img"))}),this.authorTab.on("onBeforeCurrent",function(o){var t=o.bdElement;n._lazyLoadImg(i(t).find("img"))})},_errorPush:function(){var i=window.errorPushDelay?window.errorPushDelay:0;g&&clearTimeout(g),g=setTimeout(function(){if(g=null,window.errorMsgInfo.length>0)for(;window.errorMsgInfo.length>0;){var i=window.errorMsgInfo.shift();
d.xsend(1,window.ctjErrorActId,i)}},i)},_initLazyLoad:function(){console.log(i("img"));new r.lazyLoad},_initTab:function(){this.docTab=a.tabsCreate({el:i("#recom-doc-con")[0],controlClassName:"tab-cate",contentClassName:"tab-con-list",bindEvent:"mouseover",delay:300}),this.authorTab=a.tabsCreate({el:i("#author-con-tab")[0],controlClassName:"tab-list",contentClassName:"tab-con-list",bindEvent:"mouseover",delay:300})},_responseLayout:function(){function n(){var n=i(window).width();o.ie<9&&(1200>n?i("body").addClass("w980"):i("body").removeClass("w980"))
}var t=this;i(window).on("resize",function(){t.timerRps&&clearTimeout(t.timerRps),t.timerRps=setTimeout(function(){n()},50)}),n()},_initSlide:function(n){for(var o=new e.slide({el:"slide-bner"}),t=n.len,a=[],s=1;t>s;s++)a.push(s);var r=n.logInfo;i(o).on("onSwitchAfter.log",function(t){var e=i(t.curImg).parent().parent(),s=i(e).index(),c=f.indexOf(a,s);if(c!==-1){if(n.from&&"dsp"===n.from){if(d.xsend(1,101154,{action_type:"display",slot_id:r[s].slot_id,time:0}),r[s].impurl){var l=new Image;l.src=r[s].impurl
}}else d.xsend(1,100421,{action_type:"display",group_id:r[s].group_id,advertiser:r[s].advertiser,ad_id:r[s].ad_id});a.splice(c,1)}0===a.length&&i(o).off("onSwitchAfter.log")});{var c=i("#slide-bner"),l=i(c.find(".nav-btn a.pre")),u=i(c.find(".nav-btn a.next"));i(document).width()}c.on("mouseenter",function(){l.css("display","block"),u.css("display","block")}),c.on("mouseleave",function(){l.css("display","none"),u.css("display","none")}),l.on("click",function(){o.stopPlay(),o.pre()}),u.on("click",function(){o.stopPlay(),o.next()
})},_adjustSlideImgSize:function(){function n(){var n=i(window).width();o.ie<9?1220>n?t("s"):t():1050>n?t("s"):t()}function t(n){a.each(function(){var o=i(this),t=o.data("img").split(","),e=t[1],a=t[0];"s"===n?o.css("backgroundImage","url("+a+")"):o.css("backgroundImage","url("+e+")")})}var e=this,a=i("#slide-bner ul.img-list li img");i(window).on("resize",function(){e.timerBnr&&clearTimeout(e.timerBnr),e.timerBnr=setTimeout(function(){n()},50)}),n()},_ajaxMyWk:function(){var n=this,o="";p.isLogin&&i.get("/user/interface/getmynewdoc",function(t){if(console.log(t),t&&"array"===i.type(t))if(t.length)for(var e=0,a=t.length;a>e;e++){var s=t[e],r=n._subOmit(s.title,10,!0);
2>e&&(o+=1!=s.main_status?"<li>"+'<span class="page-num">'+s.page+"\u9875</span>"+'<a href="/view/'+s.doc_id+'" title="'+s.title+'">'+r+"</a>"+"</li>":'<li title="\u6587\u6863\u6b63\u5728\u63d0\u4ea4\u4e2d\uff0c\u6682\u65f6\u65e0\u6cd5\u67e5\u770b\uff01">'+r+"</li>")}else o='<li class="loading">\u6682\u65e0\u6587\u6863\uff0c\u8d76\u7d27\u4e0a\u4f20\u5427\uff01</li>';else o='<li class="loading">\u6682\u65e0\u6570\u636e\u6216\u52a0\u8f7d\u5931\u8d25</li>';i("#mywk-wrap").html(o)})},_subOmit:function(i,n,o){return i.length>n&&(i=i.substring(0,n),o&&(i+="...")),i
},_ajaxVipInfo:function(){var n=i("#user-vip-ic"),o=["ic-vipDisable","ic-classVip","ic-classVip","ic-classVip","ic-eduVip","ic-jiaoyuVip"];if(p.isLogin)i.get("/user/interface/getuserinfo?t="+ +new Date,function(t){var e=t.data.vipinfo,a=e.type,s=+t.data.edu_vip_info.is_vip,r=+t.data.jiaoyu_vip_info.is_vip;0===t.status.code&&(n.addClass(a>0?o[1]:o[0]),r&&i("."+o[5]).removeClass("hide"),s&&i("."+o[4]).removeClass("hide"),0===a&&+v||0===a&&(s||r)?n.css("display","none"):n.removeClass("hide"));new c.BackToTop.backToTop({})
});else{new c.BackToTop.backToTop({})}},_lazyLoadImg:function(n){var o="data-tab-src",t=null,e="";n.each(function(){t=i(this),e=t.attr(o),e&&(t.attr("src",e),t.removeAttr(o))})},_formatDocnum:function(){var n=i("#total-docnum"),o=n.data("docnum").split(","),t=[],e=0,a=29,s=function(){for(var i=0;i<o.length;i++){for(var n=o[i].split(""),e="",a=0;a<n.length;a++)e+='<span class="num0" data-num="'+n[a]+'"></span>';t.push(e)}return t.join('<b class="spr">,</b>')}();p.isLogin?n.html(s):(n.html("\u5df2\u6709 "+s+" \u4efd\u6587\u6863"),a=24,e=-34),setTimeout(function(){n.find("span").each(function(){var n=i(this),o=n.data("num");
n.animate({backgroundPositionY:-a*o,backgroundPositionX:e},2e3)})},500)},_ctrlTabLine:function(n,t){var n=i(n),e=n.find("li a"),a=n.find(".tab-udl");e.on("mouseover",function(){var n=i(this),e=n.position().left+2,s=n.width()+1;6===o.ie&&"doc"==t&&(e-=4),a.stop().animate({left:e,width:s},"fast")})},_showSearchBoxLink:function(){var n=i("#topSearchBox .dasou");n.length&&n.show()},_scrollTop:function(n,o,t){function e(){a=setInterval(function(){s.animate({top:-o},function(){var i=s.find("li:eq(0)");
s.append(i),s.css("top",0)})},t)}var a=null,t=t||3e3,s=i("#"+n);e(),s.on("mouseenter",function(){clearInterval(a)}),s.on("mouseleave",function(){e()})}},pageRun.init()});
;require.async(["wkcommon:widget/ui/lib/jquery/jquery.js","wkcommon:widget/ui/js_core/log/log.js"],function(e,t){var c=window.document.referrer;t.xsend(1,101461,{index:c});var a=0,l=[{selector:"#wk-all-cate dt:first a",actId:101373},{selector:"#wk-all-cate dd:first a:eq(0)",actId:101374},{selector:"#wk-all-cate dd:first a:eq(1)",actId:101375},{selector:"#wk-all-cate dd:first a:eq(2)",actId:101450},{selector:"#wk-all-cate dd:first a:eq(3)",actId:101376},{selector:"#wk-all-cate dt:eq(1) a",actId:101377},{selector:"#wk-all-cate dd:eq(1) a:eq(0)",actId:101378},{selector:"#wk-all-cate dd:eq(1) a:eq(1)",actId:101379},{selector:"#wk-all-cate dd:eq(1) a:eq(2)",actId:101380},{selector:"#wk-all-cate dt:eq(2) a",actId:101381},{selector:"#wk-all-cate dd:eq(2) a:eq(0)",actId:101382},{selector:"#wk-all-cate dd:eq(2) a:eq(1)",actId:101383},{selector:"#wk-all-cate dd:eq(2) a:eq(2)",actId:101384},{selector:"#wk-all-cate dt:eq(3) a",actId:101385},{selector:"#wk-all-cate dd:eq(3) a:eq(0)",actId:101386},{selector:"#wk-all-cate dd:eq(3) a:eq(1)",actId:101387},{selector:"#wk-all-cate dd:eq(3) a:eq(2)",actId:101388},{selector:"#wk-all-cate dt:eq(4) a",actId:101389},{selector:"#wk-all-cate dd:eq(4) a:eq(0)",actId:101390},{selector:"#wk-all-cate dd:eq(4) a:eq(1)",actId:101391},{selector:"#wk-all-cate dd:eq(4) a:eq(2)",actId:101392},{selector:".slide-bner .bg-loading:eq(0)",actId:101393},{selector:".slide-bner .bg-loading:eq(1)",actId:101394},{selector:".slide-bner .bg-loading:eq(2)",actId:101395},{selector:".topic",actId:101396},{selector:".unity-clsfy",actId:101397},{selector:".logined-user-info",actId:101398},{selector:".upload-btn",actId:101399},{selector:".re-search-btn",actId:101400},{selector:".reward-daily",actId:101401},{selector:".reward-lists",actId:101402},{selector:".top-box",actId:101403},{selector:".bottom-box",actId:101404},{selector:".tab-con-list>li:eq(0), .tab-list li:eq(0)",actId:101405},{selector:".tab-con-list>li:eq(1), .tab-list li:eq(1)",actId:101406},{selector:".tab-con-list>li:eq(2), .tab-list li:eq(2)",actId:101407},{selector:".tab-con-list>li:eq(3), .tab-list li:eq(3)",actId:101408},{selector:".tab-con-list>li:eq(4), .tab-list li:eq(4)",actId:101409},{selector:".tab-con-list>li:eq(5), .tab-list li:eq(5)",actId:101410},{selector:".tab-con-list>li:eq(6), .tab-list li:eq(6)",actId:101411},{selector:".tab-con-list>li:eq(7), .tab-list li:eq(7)",actId:101412},{selector:".join-btn",actId:101413},{selector:".feed-box-wrap:first",actId:101414},{selector:".main-con:eq(1) dl:eq(0)",actId:101415},{selector:".main-con:eq(1) dl:eq(1)",actId:101416},{selector:".main-con:eq(1) dl:eq(2)",actId:101417},{selector:".main-con:eq(1) dl:eq(3)",actId:101418},{selector:".main-con:eq(1) dl:eq(4)",actId:101419},{selector:".main-con:eq(1) dl:eq(5)",actId:101420},{selector:".ui-rank:eq(0)",actId:101421},{selector:".product:eq(0)",actId:101422},{selector:".doc-list:eq(0)",actId:101423},{selector:".sale-rank",actId:101424},{selector:".main-con:eq(3) .tab-con-list>li:eq(0)",actId:101425},{selector:".main-con:eq(3) .tab-con-list>li:eq(1)",actId:101426},{selector:".main-con:eq(3) .tab-con-list>li:eq(2)",actId:101427},{selector:".main-con:eq(3) .tab-con-list>li:eq(3)",actId:101428},{selector:".main-con:eq(3) .tab-con-list>li:eq(4)",actId:101429},{selector:".main-con:eq(3) .tab-con-list>li:eq(5)",actId:101430},{selector:".main-con:eq(3) .apply-v a",actId:101431},{selector:".doc-rank-t+ul",actId:101432},{selector:".album-rank",actId:101433},{selector:".main-con:eq(4) .tab-con-list>li:eq(0)",actId:101434},{selector:".main-con:eq(4) .tab-con-list>li:eq(1)",actId:101435},{selector:".main-con:eq(4) .tab-con-list>li:eq(2)",actId:101436},{selector:".main-con:eq(4) .tab-con-list>li:eq(3)",actId:101437},{selector:".main-con:eq(4) .tab-con-list>li:eq(4)",actId:101438},{selector:"#feed-back",actId:101439},{selector:".ui-bz-btn:eq(1)",actId:101440},{selector:".verify-user-wrap",actId:101441},{selector:".total-ver-num a:eq(0)",actId:101442},{selector:".total-ver-num a:eq(1)",actId:101443},{selector:".notice-wrap",actId:101444},{selector:".side-adlist li:eq(0)",actId:101445},{selector:".side-adlist li:eq(1)",actId:101446},{selector:".product:eq(1)",actId:101447},{selector:".cooperation-org .apply-org>.bg-index",actId:101448},{selector:".org-list",actId:101449}],o=[{selector:".top-search-box",actId:101451},{selector:".reward-main:eq(0)",actId:101452},{selector:".authority-box",actId:101453},{selector:".vrf-author:eq(0)",actId:101454},{selector:".row-main:eq(1)",actId:101455},{selector:".row-main:eq(2)",actId:101456},{selector:".row-main:eq(3)",actId:101457},{selector:".row-main:eq(4)",actId:101458},{selector:".row-main:eq(5)",actId:101459},{selector:".cooperation-org",actId:101460}];
e.each(l,function(l,o){var d=o.actId,r=o.selector,s=o.param||{};e(document).on("click",r,function(){t.xsend(1,d,s),a||t.xsend(1,101462,{index:c}),a=1})});var d={};e(window).on("scroll",function(){var c=e(this).scrollTop();e.each(o,function(a,l){var o=l.actId,r=l.selector,s=l.param||{};0!==e(r).length&&c>e(r).offset().top&&!d[r]&&(t.xsend(1,o,s),d[r]=1)})});var r=0,s=1,i="hidden"in document?"hidden":"webkitHidden"in document?"webkitHidden":"mozHidden"in document?"mozHidden":null;if(i)var n=i.replace(/hidden/i,"visibilitychange"),q=function(){s=document[i]?0:1
};document.addEventListener?document.addEventListener(n,q,!1):document.attachEvent(n,q),setInterval(function(){s&&(r+=1)},1e3),window.onbeforeunload=function(){t.xsend(1,101463,{index:r});for(var e=new Date;new Date-e<250;);}});