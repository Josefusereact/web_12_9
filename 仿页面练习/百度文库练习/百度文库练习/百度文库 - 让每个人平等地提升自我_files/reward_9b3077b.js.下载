define("wkcore:widget/home/reward/reward.js",function(e,t,a){function n(e,t){var a=e.split("");return a.length>t?e.substr(0,t)+"...":e}var i=e("wkcommon:widget/ui/lib/jquery/jquery.js"),s={tips:['<li><a href="/task/browse/rewardview?task_id=###opt.api###&fr=home" target="_blank" ','class="log-xsend" data-logxsend="[1,100877, {index: 3}]">','<i class="re-icon-xs">\u60ac\u8d4f</i><p class="xs-page-docTitle">###opt.title###</p>','<p class="xs-page-ticket">\u8d4f\u91d1\uff1a<span class="p-em-tips">###opt.ticket###\u4e0b\u8f7d\u5238</span>','<span class="xs-page-sort"><i class="re-icon-sort"></i>###opt.sort###</span></p>',"</a></li>"].join("")},r={init:function(){this.initDom(),this.initEvent()
},initDom:function(){this.el={},this.el.$changeBtn=i(".re-change-btn"),this.el.$docListContent=i(".reward-list-content ul"),this.el.$rewardList=i(".reward-lists ul")},initEvent:function(){var e=this;e.changeKey=!0,e.el.$changeBtn.on("click",function(){e.changeKey&&e.changeReward()})},changeReward:function(){var e=this;i.ajax({url:"/task/interface/changerecforlist?pn=0&rn=6",cache:!1,success:function(t){if(0===+t.status.code&&t.data.rec_list&&t.data.rec_list.length>0){for(var a=[],i=t.data.rec_list,r=0;r<i.length&&6>r;r++){i[r].zone3_name||(i[r].zone3_name=i[r].zone2_name);
var c=s.tips;c=c.replace("###opt.title###",i[r].task_name),c=c.replace("###opt.ticket###",i[r].task_reward),c=c.replace("###opt.sort###",n(i[r].zone3_name,5)),c=c.replace("###opt.api###",i[r].task_id),a.push(c)}e.changeKey=!0,e.el.$docListContent.html(a.join(""))}}})}};a.exports=r});