<!DOCTYPE HTML>
<html>

<head>
	<title>表单提交验证</title>
	<meta charset="utf-8" />
	<style>
		.hintText {
			color: #aaaaaa;
			font-style: italic;
		}

		.normalText {
			color: #000000;
		}
	</style>


</head>

<body>
	<h2>发表留言</h2>
	<form name="msgForm" id="form1">
		姓名：<input name="userName" class="hintText" value="请输入您的姓名" onfocus="nameFocus(this)"
			onblur="valiName(this)" /><br />
		内容：<textarea name="content" class="hintText" rows="5" cols="30" onfocus="contentFocus(this)"
			onblur="valiContent(this)">请输入留言内容</textarea><br />
		<label><input type="checkbox" onclick="check(this)" />我已阅读了《常见问题列表》</label><br />
		<input type="button" disabled="disabled" value="提交" onclick="mySubmit()" />
	</form>
	<script>
		function check(chb) {
			// 获取表单form
			var form = document.forms[0];
			// 获得表单中最后一个元素btn  document.form.length-1
			var btn = form.elements[form.length - 1];
			// 设置btn的disabled为!chb.checked
			btn.disabled = !chb.checked;

		}

		function nameFocus(txtName) {
			// 如果txtName的内容为"请输入您的姓名"
			if (txtName.value == "请输入您的姓名") {
				// 清除textName的内容
				txtName.value = "";
				// 清除tetName的class
				txtName.className = "";
			}
		}

		function valiName(txtName) {
			// 定义正则：/^(\s*|请输入您的姓名)$/
			var reg = /^(\s*|请输入您的姓名)$/;
			// 如果用reg验证txtName的内容为false
			if (!reg.test(txtName.value)) {
				return true
			} else {// 否则
				// 设置txtName的内容为:"请输入您的姓名"
				txtName.value = "请输入您的姓名";
				// 设置txtName的class为hintText
				txtName.className = "hintText";
				return false
			}
		}

		function contentFocus(txtName) {
			// 如果txtName的内容为"请输入您的姓名"
			if (txtName.value == "请输入留言内容") {
				// 清除textName的内容
				txtName.value = "";
				// 清除tetName的class
				txtName.className = "";
			}
		}
		function valiContent(txtName) {
			// 定义正则：/^(\s*|请输入您的姓名)$/
			var reg = /^(\s*|请输入留言内容)$/;
			// 如果用reg验证txtName的内容为false
			if (!reg.test(txtName.value)) {
				return true
			} else {// 否则
				// 设置txtName的内容为:"请输入您的姓名"
				txtName.value = "请输入您的姓名";
				// 设置txtName的class为hintText
				txtName.className = "hintText";
				return false
			}
		}


		function mySubmit() {
			// 获得form
			var form = document.forms[0];
			// 如果验证姓名文本框未通过，则让姓名文本框获得焦点
			if (!valiName(form.userName)) {
				form.userName.focus();
			} else {
				// 否则，如果如果验证内容文本框未通过，则让内容文本框获得焦点
				if (!valiContent(form.content)) {
					form.content.focus();
				} else {
					// 如果都验证通过
					//手动提交表单
					form.submit();
				}
			}

		}
	</script>
</body>

</html>